<!DOCTYPE html><html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Movie Details</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <script type="module">
        // Import Firebase
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.0.0/firebase-app.js";
        import { getFirestore, doc, getDoc } from "https://www.gstatic.com/firebasejs/10.0.0/firebase-firestore.js";// Your Firebase configuration
    const firebaseConfig = {
        apiKey: "AIzaSyDv1KgOL_CsLs4xV6KuYuk3TD6xqpnY-84",
        authDomain: "movievault-e650e.firebaseapp.com",
        projectId: "movievault-e650e",
        storageBucket: "movievault-e650e.firebasestorage.app",
        messagingSenderId: "61140580505",
        appId: "1:61140580505:web:d3216ca8bd944662a22008"
    };
    
    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);
    
    async function loadMovieData() {
        const params = new URLSearchParams(window.location.search);
        const movieName = params.get("name");
        
        if (!movieName) {
            document.getElementById("movie-details").innerHTML = "<p>Movie not found.</p>";
            return;
        }
        
        const movieRef = doc(db, "movies", movieName);
        const movieSnap = await getDoc(movieRef);
        
        if (movieSnap.exists()) {
            const movieData = movieSnap.data();
            document.getElementById("movie-title").textContent = movieData.title;
            document.getElementById("movie-poster").src = movieData.poster;
            document.getElementById("movie-description").textContent = movieData.description;
            document.getElementById("movie-year").textContent = movieData.year;
            document.getElementById("stream-link").href = movieData.stream;
            document.getElementById("download-link").href = movieData.download;
        } else {
            document.getElementById("movie-details").innerHTML = "<p>Movie not found.</p>";
        }
    }
    
    window.onload = loadMovieData;
</script>

</head>
<body>
    <header>
        <h1 id="movie-title">Movie Title</h1>
        <nav>
            <ul>
                <li><a href="index.html">Home</a></li>
            </ul>
        </nav>
    </header><section id="movie-details">
    <img id="movie-poster" src="" alt="Movie Poster">
    <p id="movie-description">Movie description goes here...</p>
    <p><strong>Year:</strong> <span id="movie-year"></span></p>
    <a id="stream-link" href="#" target="_blank">Stream</a>
    <a id="download-link" href="#" target="_blank">Download</a>
</section>

<footer>
    <p>&copy; 2025 Movie Vault. All Rights Reserved.</p>
</footer>

</body>
</html>
