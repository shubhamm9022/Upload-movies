<!DOCTYPE html><html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Movie Vault</title>
    <link rel="stylesheet" href="styles.css">
    <script type="module">
        // Import Firebase
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.5.2/firebase-app.js";
        import { getFirestore, collection, query, orderBy, onSnapshot } from "https://www.gstatic.com/firebasejs/10.5.2/firebase-firestore.js";// Firebase configuration
    const firebaseConfig = {
        apiKey: "AIzaSyCx4I0fv-H4OHeH6txTksCN946C2apAjwg",
        authDomain: "moviesvault-ff5fa.firebaseapp.com",
        projectId: "moviesvault-ff5fa",
        storageBucket: "moviesvault-ff5fa.appspot.com",
        messagingSenderId: "404186300802",
        appId: "1:404186300802:web:61f1863b3f99a0081fcf9b",
        measurementId: "G-3G31SG4XRK"
    };

    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    // Function to load movies from Firestore
    function loadMovies() {
        const movieList = document.querySelector(".movie-list");
        movieList.innerHTML = "";  // Clear existing movies

        const q = query(collection(db, "movies"), orderBy("timestamp", "desc"));

        onSnapshot(q, (snapshot) => {
            movieList.innerHTML = ""; // Clear previous data
            snapshot.forEach(doc => {
                const movie = doc.data();
                const movieElement = document.createElement("div");
                movieElement.classList.add("movie");
                movieElement.innerHTML = `
                    <img src="${movie.poster}" alt="${movie.title}">
                    <h2>${movie.title} (${movie.year})</h2>
                    <div class="actions">
                        <a href="${movie.streamLink}" class="stream">Stream</a>
                        <a href="${movie.downloadLink}" class="download">Download</a>
                    </div>
                `;
                movieList.appendChild(movieElement);
            });
        });
    }

    document.addEventListener("DOMContentLoaded", loadMovies);
</script>

</head>
<body>
    <header>
        Movie Vault
    </header>
    <main>
        <section class="movie-list">
            <!-- Movies will be loaded here dynamically -->
        </section>
        <nav class="pagination">
            <a href="#">&laquo; Prev</a>
            <a href="#">Next &raquo;</a>
        </nav>
    </main>
    <footer>
        <p>Follow us on <a href="#">Social Media</a></p>
    </footer>
</body>
</html>
